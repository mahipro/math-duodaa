/*
 *  ../SourceForge/trunk/mathjax/jax/output/HTML-CSS/imageFonts.js
 *  
 *  Copyright (c) 2010 Design Science, Inc.
 *
 *  Part of the MathJax library.
 *  See http://www.mathjax.org for details.
 * 
 *  Licensed under the Apache License, Version 2.0;
 *  you may not use this file except in compliance with the License.
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 */

MathJax.Unpack([
  ['(','function(','b,c,a){b.Register.LoadHook(c.fontDir+"/fontdata.js",','function(){','c.Augment({allowWebFonts:false,imgDir:c.webfontDir+"/png",imgPacked:(','MathJax.','isPacked||','c.config.useOldImageData','?"":"/unpacked"),imgSize:["050","060","071","085",100,120,141,168,200,238,283,336,400,476],imgBaseIndex:4,imgSizeForEm:{},imgSizeForScale:{},handleImg:',1,'s,h,q,g,t){if(t.length){this.addText(s,t)}var r=q[5].orig;if(!r){r=q[5].orig=[q[0],q[1],q[2],q[3],q[4]]}var l=this.imgBrowserZoom();if(!s.scale){s.scale=1}var o=this.imgIndex(s.scale*l);if(o==','this.imgEmWidth','.length-1&&this.em*s.scale*l/',11,'[o]>1.1){l=',11,'[o]/(this.em','*s.scale)}var p=',11,16,'*(s.scale||1)*l);q[0]=r[0]*p;q[1]=r[1]*p;q[2]=r[2]*p;q[3]=r[3]*p;q[4]=r[4]*p;var j=this.imgDir+"/"+h.directory+"/"+this.imgSize[o];var k=g.toString(16).toUpperCase();while(k.length<4){k="0"+k}var i=j+"/"+k+".png";var m=q[5].img[o];var f={width:','Math.floor','(m[0',']/l+0.5)+"px','",height:',21,'(m[1',23,'"};if(m[2]){f.verticalAlign=',21,'(-m[2',23,'"}if(q[3]<0){f.marginLeft=this.Em(q[3]/1000)}if(q[4]!=q[2]){f.marginRight=this.Em((q[2]-q[4])/1000)}if(this.msieIE6){f.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'"+a.fileURL(i)+"\', sizingMethod=\'scale\')";i=this.directory+"/blank.gif"}this','.addElement(','s,"img",{src:a.fileURL(i),style:f});return""},defineImageData:',1,'h){for(var f in h){if(h','.hasOwnProperty(','f)){','var g=c.FONTDATA.FONTS','[f];if(g){f=h[f];for(var i in f){if(f',37,'i)&&g[i]){g[i][5]={img:f[i]}}}}}}},initImg:',1,'h){if(','this.imgSizeForEm[this.em',']){','this.imgBaseIndex','=',45,']}for(var g=0,f=',11,'.length-1;g<f;g++){if(','this.em<=',11,'[g]){break}}if(g&&',11,'[g]-this.em>this.em-',11,'[g-1]){g--}',45,']=',47,'=g},imgIndex:',1,'j){if(!j){','return ',47,'}if(!','this.imgSizeForScale[this.em',']){',69,']={}}if(',69,'][j]){',66,69,'][j]}var h=this.em*j;for(var g=0,f=',11,52,'h<=',11,'[g]){break}}if(g&&',11,'[g]-h>h-',11,'[g-1]){g--}',69,'][j]=g;',66,'g},','imgBrowserZoom:function(){',66,'1}});b.Browser.Select({Firefox:',1,'g){var f=c',33,'document.body',',"div",{style:{','display:"none",visibility:"hidden",overflow:"scroll",','position:"absolute",','top:0,left:0,width:"200px",height:"200px"}});var h=c',33,'f',98,100,'left:0,top:0,right:0,bottom:0}});','c.Augment({imgSpaceBug:true,imgSpace:String.fromCharCode(160','),imgZoomLevel:(g.isMac?{50:0.3,30:0.5,22:0.67,19:0.8,16:0.9,15:1,13:1.1,12:1.2,11:1.33,10:1.5,9:1.7,7:2,6:2.4,5:3,0:15}:{56:0.3,34:0.5,25:0.67,21:0.8,19:0.9,17:1,15:1.1,14:1.2,13:1.33,11:1.5,10:1.7,8:2,7:2.4,6:3,0:17}),imgZoomDiv:f,',91,'var i=this.imgZoomLevel;','f.style.display','="";var j=(f.offsetWidth-h.offsetWidth);j=(i[j]?i[j]:i[0]/j);',111,'="none";',66,'j}})},Safari:',1,'f){c.Augment({',91,66,'3}})},Chrome:',1,118,'imgHeightBug:true,',91,66,'3}})},Opera:',1,'f){',107,')+String.fromCharCode(160),imgDoc:(document.compatMode=="BackCompat"?',97,':document.documentElement),',91,'if(f.isMac){',66,'3}var g=','this.imgDoc.','clientHeight,h=',21,'(15*g/','window.innerHeight',');if(',138,'clientWidth<',138,'scrollWidth-h){g+=h}',66,'parseFloat((',142,'/g).toFixed(1))}})}});var e=',3,39,'.MathJax_Main[8212][5].img;c.imgEmWidth=[];for(var h=0,f=g.length;h<f;h++){c.imgEmWidth[h]=g[h][0]}};var d=c.imgDir+c.imgPacked;if(',7,'){d=c.webfontDir}',5,'Callback.Queue(["Require",a,d+"/imagedata.js"],e,["loadComplete",a,c.directory+"/imageFonts.js"])})})(',5,'Hub,',5,'OutputJax["HTML-CSS"],',5,'Ajax);']
]);

